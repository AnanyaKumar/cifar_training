
root_prefix: '/u/scr/nlp/'

# The train and test transforms are taken from the Swav fine-tuning script.
train_dataset:
    name: 'train'
    classname: datasets.wilds.WILDS
    args:
        root: ''
        dataset_name: 'waterbirds'
        split: 'train'
    transforms:
        - classname: torchvision.transforms.RandomResizedCrop
          args:
              size: 224
        - classname: torchvision.transforms.RandomHorizontalFlip
        - classname: torchvision.transforms.ToTensor


default_test_transforms:
    - classname: unlabeled_extrapolation.datasets.transforms.Resize
      args:
          size: 224
          interpolation: 'bicubic'
    - classname: torchvision.transforms.CenterCrop
      args:
          size: 224
    - classname: torchvision.transforms.ToTensor

test_datasets:
    - name: 'val'
      classname: datasets.wilds.WILDS
      args:
          root: ''
          dataset_name: 'waterbirds'
          split: 'val'
    - name: 'landbg-landbird-test'
      classname: datasets.wilds.WILDS
      args:
          root: ''
          dataset_name: 'waterbirds'
          split: 'test'
          meta_selector: [0, 0, 0]
    - name: 'landbg-waterbird-test'
      classname: datasets.wilds.WILDS
      args:
          root: ''
          dataset_name: 'waterbirds'
          split: 'test'
          meta_selector: [0, 1, 0]
    - name: 'waterbg-landbird-test'
      classname: datasets.wilds.WILDS
      args:
          root: ''
          dataset_name: 'waterbirds'
          split: 'test'
          meta_selector: [1, 0, 0]   
    - name: 'waterbg-waterbird-test'
      classname: datasets.wilds.WILDS
      args:
          root: ''
          dataset_name: 'waterbirds'
          split: 'test'
          meta_selector: [1, 1, 0]

early_stop_dataset_names:
    - 'val'

